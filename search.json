[{"path":"https://geobosh.github.io/Countr/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Tarak Kharrat. Author. Georgi N. Boshnakov. Author, maintainer.","code":""},{"path":"https://geobosh.github.io/Countr/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Kharrat T, Boshnakov GN, McHale , Baker R (2019). “Flexible Regression Models Count Data Based Renewal Processes: Countr Package.” Journal Statistical Software, 90(13), 1–35. doi:10.18637/jss.v090.i13.","code":"@Article{,   title = {Flexible Regression Models for Count Data Based on Renewal Processes: The {Countr} Package},   author = {Tarak Kharrat and Georgi N. Boshnakov and Ian McHale and Rose Baker},   journal = {Journal of Statistical Software},   year = {2019},   volume = {90},   number = {13},   pages = {1--35},   doi = {10.18637/jss.v090.i13}, }"},{"path":"https://geobosh.github.io/Countr/index.html","id":"installing-countr","dir":"","previous_headings":"","what":"Flexible Univariate Count Models Based on Renewal Processes","title":"Flexible Univariate Count Models Based on Renewal Processes","text":"latest stable version CRAN. can install development version Countr Github:","code":"install.packages(\"Countr\") remotes::install_github(\"GeoBosh/Countr\")"},{"path":"https://geobosh.github.io/Countr/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"Flexible Univariate Count Models Based on Renewal Processes","text":"Flexible univariate count models based renewal processes. models may include covariates can specified familiar formula syntax glm() package ‘flexsurv’. methodology described paper Journal Statistical Software. paper included vignette vignette(\"Countr_guide\") along wth several additional vignettes containing worked examples additional details, see Countr CRAN page. package developed Tarak Kharrat Georgi N.Boshnakov.","code":""},{"path":"https://geobosh.github.io/Countr/reference/Countr-package.html","id":null,"dir":"Reference","previous_headings":"","what":"Flexible Univariate Count Models Based on Renewal Processes — Countr-package","title":"Flexible Univariate Count Models Based on Renewal Processes — Countr-package","text":"Flexible univariate count models based renewal processes. models may include covariates can specified familiar formula syntax glm() 'flexsurv'.","code":""},{"path":"https://geobosh.github.io/Countr/reference/Countr-package.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Flexible Univariate Count Models Based on Renewal Processes — Countr-package","text":"methodology described Kharrat et al. (2019) .  paper included package vignette vignette('Countr_guide_paper', package = \"Countr\")). main function renewalCount, see documentation examples. Goodness fit chi-square (likelihood ratio Pearson) tests glm count renewal models implemented chiSq_gof chiSq_pearson.","code":""},{"path":"https://geobosh.github.io/Countr/reference/Countr-package.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Flexible Univariate Count Models Based on Renewal Processes — Countr-package","text":"Kharrat T, Boshnakov GN, McHale , Baker R (2019). “Flexible Regression Models Count Data Based Renewal Processes: Countr Package.” Journal Statistical Software, 90(13), 1–35. doi:10.18637/jss.v090.i13 . Baker R, Kharrat T (2017). “Event count distributions renewal processes: fast computation probabilities.” IMA Journal Management Mathematics, 29(4), 415-433. ISSN 1471-6798, doi:10.1093/imaman/dpx008 , https://academic.oup.com/imaman/article-pdf/29/4/415/25693854/dpx008.pdf. Boshnakov G, Kharrat T, McHale IG (2017). “bivariate Weibull count model forecasting association football scores.” International Journal Forecasting, 33(2), 458–466. Cameron AC, Trivedi PK (2013). Regression analysis count data, volume 53. Cambridge university press. Kharrat T, Boshnakov GN, McHale IG, Baker R (2018). “Flexible regression models count data based renewal processes: Countr package.” Journal Statistical Software (appear). McShane B, Adrian M, Bradlow ET, Fader PS (2008). “Count models based Weibull interarrival times.” Journal Business & Economic Statistics, 26(3), 369–378. Winkelmann R (1995). “Duration dependence dispersion count-data models.” Journal Business & Economic Statistics, 13(4), 467–474.","code":""},{"path":[]},{"path":"https://geobosh.github.io/Countr/reference/Countr-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Flexible Univariate Count Models Based on Renewal Processes — Countr-package","text":"Maintainer: Georgi N. Boshnakov georgi.boshnakov@manchester.ac.uk (ORCID) Authors: Tarak Kharrat tarak@realanalytics.co.uk (ORCID) Georgi N. Boshnakov georgi.boshnakov@manchester.ac.uk (ORCID)","code":""},{"path":"https://geobosh.github.io/Countr/reference/CountrFormula.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a formula for renewalCount — CountrFormula","title":"Create a formula for renewalCount — CountrFormula","text":"Create formula renewalCount","code":""},{"path":"https://geobosh.github.io/Countr/reference/CountrFormula.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a formula for renewalCount — CountrFormula","text":"","code":"CountrFormula(response, ...)"},{"path":"https://geobosh.github.io/Countr/reference/CountrFormula.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a formula for renewalCount — CountrFormula","text":"response formula \"main\" parameter. also specifies response variable. ... additional arguments ancilliary parameters.","code":""},{"path":"https://geobosh.github.io/Countr/reference/CountrFormula.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a formula for renewalCount — CountrFormula","text":"Formula object suitable argument formula     renewalCount().","code":""},{"path":"https://geobosh.github.io/Countr/reference/addBootSampleObject.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a bootsrap sample for coefficient estimates — addBootSampleObject","title":"Create a bootsrap sample for coefficient estimates — addBootSampleObject","text":"Create boostrap sample coefficient estimates.","code":""},{"path":"https://geobosh.github.io/Countr/reference/addBootSampleObject.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a bootsrap sample for coefficient estimates — addBootSampleObject","text":"","code":"addBootSampleObject(object, ...)"},{"path":"https://geobosh.github.io/Countr/reference/addBootSampleObject.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a bootsrap sample for coefficient estimates — addBootSampleObject","text":"object object add boot object . ... extra parameters passed boot::boot() function data statistic.","code":""},{"path":"https://geobosh.github.io/Countr/reference/addBootSampleObject.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a bootsrap sample for coefficient estimates — addBootSampleObject","text":"object additional component \"boot\"","code":""},{"path":"https://geobosh.github.io/Countr/reference/addBootSampleObject.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create a bootsrap sample for coefficient estimates — addBootSampleObject","text":"information object used prepare arguments boot called generate bootstrap sample. bootstrap sample stored object component \"boot\". Arguments \"...\" can used customise boot() call.","code":""},{"path":[]},{"path":"https://geobosh.github.io/Countr/reference/addBootSampleObject.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a bootsrap sample for coefficient estimates — addBootSampleObject","text":"","code":"## see renewal_methods"},{"path":"https://geobosh.github.io/Countr/reference/alphagen.html","id":null,"dir":"Reference","previous_headings":"","what":"Matrix of alpha terms — alphagen","title":"Matrix of alpha terms — alphagen","text":"Matrix alpha terms used internally different Weibull count functions.","code":""},{"path":"https://geobosh.github.io/Countr/reference/alphagen.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Matrix of alpha terms — alphagen","text":"","code":"alphagen(cc, jrow, ncol)"},{"path":"https://geobosh.github.io/Countr/reference/alphagen.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Matrix of alpha terms — alphagen","text":"cc numeric, shape parameter. jrow numeric, number rows alpha matrix. See formulae (11) McShane(2008). ncol numeric, number columns alpha matrix. Note first column corresponds \\(n=0\\), \\(n\\) count value, see formulae (11) McShane(2008).","code":""},{"path":"https://geobosh.github.io/Countr/reference/alphagen.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Matrix of alpha terms — alphagen","text":"jrow x ncol (lower triangular) matrix     \\(\\alpha_j^n\\) terms defined McShane(2008).","code":""},{"path":"https://geobosh.github.io/Countr/reference/alphagen.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Matrix of alpha terms — alphagen","text":"usually advisable compute alpha terms minimum number times may time consuming general. Note alpha terms depend shape (c) parameter","code":""},{"path":"https://geobosh.github.io/Countr/reference/alphagen.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Matrix of alpha terms — alphagen","text":"","code":"## alphagen(0.994, 6, 8)"},{"path":"https://geobosh.github.io/Countr/reference/chiSq_gof.html","id":null,"dir":"Reference","previous_headings":"","what":"Formal Chi-square goodness-of-fit test — chiSq_gof","title":"Formal Chi-square goodness-of-fit test — chiSq_gof","text":"Carry formal chi-square goodness--fit test described Cameron (2013).","code":""},{"path":"https://geobosh.github.io/Countr/reference/chiSq_gof.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Formal Chi-square goodness-of-fit test — chiSq_gof","text":"","code":"chiSq_gof(object, breaks, ...)  # S3 method for class 'renewal' chiSq_gof(object, breaks, ...)  # S3 method for class 'negbin' chiSq_gof(object, breaks, ...)  # S3 method for class 'glm' chiSq_gof(object, breaks, ...)"},{"path":"https://geobosh.github.io/Countr/reference/chiSq_gof.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Formal Chi-square goodness-of-fit test — chiSq_gof","text":"object object class renewal. breaks integer values breaks shoudl happen. function compute observed frequencies intervals [breaks[], breaks[+ 1]). ... currently used.","code":""},{"path":"https://geobosh.github.io/Countr/reference/chiSq_gof.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Formal Chi-square goodness-of-fit test — chiSq_gof","text":"data.frame","code":""},{"path":"https://geobosh.github.io/Countr/reference/chiSq_gof.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Formal Chi-square goodness-of-fit test — chiSq_gof","text":"test conditional moment test described details Cameron (2013, Section 5.3.4). compute asymptotically equivalent outer product gradient version justified renewal models (fully parametric + parameters based MLE).","code":""},{"path":"https://geobosh.github.io/Countr/reference/chiSq_gof.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Formal Chi-square goodness-of-fit test — chiSq_gof","text":"Cameron AC, Trivedi PK (2013). Regression analysis count data, volume 53. Cambridge university press.","code":""},{"path":[]},{"path":"https://geobosh.github.io/Countr/reference/chiSq_pearson.html","id":null,"dir":"Reference","previous_headings":"","what":"Pearson Chi-Square test — chiSq_pearson","title":"Pearson Chi-Square test — chiSq_pearson","text":"Carry Pearson Chi-Square test compute Pearson statistic.","code":""},{"path":"https://geobosh.github.io/Countr/reference/chiSq_pearson.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pearson Chi-Square test — chiSq_pearson","text":"","code":"chiSq_pearson(object, ...)  # S3 method for class 'renewal' chiSq_pearson(object, ...)  # S3 method for class 'glm' chiSq_pearson(object, ...)"},{"path":"https://geobosh.github.io/Countr/reference/chiSq_pearson.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pearson Chi-Square test — chiSq_pearson","text":"object object class renewal. ... currently used.","code":""},{"path":"https://geobosh.github.io/Countr/reference/chiSq_pearson.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pearson Chi-Square test — chiSq_pearson","text":"data.frame 5 columns given count values (Counts),     observed frequencies (Actual), model's prediction     (Predicted), difference (Diff) contribution     Pearson's statistic (Pearson).","code":""},{"path":"https://geobosh.github.io/Countr/reference/chiSq_pearson.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Pearson Chi-Square test — chiSq_pearson","text":"computation inspired Cameron(2013) Chapter 5.3.4. Observed fitted frequencies computed contribution every observed cell Pearson's chi-square test statistic reported. idea check fitted model tendancy predict ranges data","code":""},{"path":"https://geobosh.github.io/Countr/reference/chiSq_pearson.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Pearson Chi-Square test — chiSq_pearson","text":"Cameron AC, Trivedi PK (2013). Regression analysis count data, volume 53. Cambridge university press.","code":""},{"path":[]},{"path":"https://geobosh.github.io/Countr/reference/compareToGLM.html","id":null,"dir":"Reference","previous_headings":"","what":"Compare renewals fit to glm models fit — compareToGLM","title":"Compare renewals fit to glm models fit — compareToGLM","text":"Compare renewals fit glm models fit data.","code":""},{"path":"https://geobosh.github.io/Countr/reference/compareToGLM.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compare renewals fit to glm models fit — compareToGLM","text":"","code":"compareToGLM(poisson_model, breaks, nbinom_model, ...)"},{"path":"https://geobosh.github.io/Countr/reference/compareToGLM.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compare renewals fit to glm models fit — compareToGLM","text":"poisson_model fitted Poisson glm model breaks integer values breaks happen. function compute observed frequencies intervals [breaks[], breaks[+ 1]). nbinom_model fitted negative binomial (fitted using MASS::glm.nb()). argument optional. ... renewal models considered.","code":""},{"path":"https://geobosh.github.io/Countr/reference/compareToGLM.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compare renewals fit to glm models fit — compareToGLM","text":"data.frame columns Counts, Actual (observed     probability) 2 columns per model passed (predicted probability     pearson statistic) associated count value.","code":""},{"path":"https://geobosh.github.io/Countr/reference/compareToGLM.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Compare renewals fit to glm models fit — compareToGLM","text":"function computes data.frame similar Table 5.6 Cameron(2013), using observed frequencies predictions different models. Supported models accepted Poisson negative binomial (fitted using MASS::glm.nb()) glm family model renewal family (passed ...).","code":""},{"path":"https://geobosh.github.io/Countr/reference/compareToGLM.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Compare renewals fit to glm models fit — compareToGLM","text":"Cameron AC, Trivedi PK (2013). Regression analysis count data, volume 53. Cambridge university press.","code":""},{"path":"https://geobosh.github.io/Countr/reference/count_table.html","id":null,"dir":"Reference","previous_headings":"","what":"Summary of a count variable — count_table","title":"Summary of a count variable — count_table","text":"Summary count variable.","code":""},{"path":"https://geobosh.github.io/Countr/reference/count_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summary of a count variable — count_table","text":"","code":"count_table(count, breaks, formatChar = FALSE)"},{"path":"https://geobosh.github.io/Countr/reference/count_table.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summary of a count variable — count_table","text":"count integer, observed count value every individual sample. breaks integer, values breaks happen. function compute observed frequency [breaks[], breaks[+ 1]). formatChar logical, values converted character formatted?","code":""},{"path":"https://geobosh.github.io/Countr/reference/count_table.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summary of a count variable — count_table","text":"matrix 2 rows length(breaks) columns.      column names cells names. rows observed frequencies     relative frequencies (probabilities).","code":""},{"path":"https://geobosh.github.io/Countr/reference/count_table.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Summary of a count variable — count_table","text":"function similar job table() flexibility introduced argument breaks. user can decide break count values decide merge cells needed.","code":""},{"path":"https://geobosh.github.io/Countr/reference/dBivariateWeibullCountFrankCopula.html","id":null,"dir":"Reference","previous_headings":"","what":"Density and log-likelihood of the Bivariate Frank Copula Weibull Count model — dBivariateWeibullCountFrankCopula","title":"Density and log-likelihood of the Bivariate Frank Copula Weibull Count model — dBivariateWeibullCountFrankCopula","text":"Compute density log-likelihood Bivariate Frank Copula Weibull Count model.","code":""},{"path":"https://geobosh.github.io/Countr/reference/dBivariateWeibullCountFrankCopula.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Density and log-likelihood of the Bivariate Frank Copula Weibull Count model — dBivariateWeibullCountFrankCopula","text":"","code":"dBivariateWeibullCountFrankCopula(   x,   y,   shapeX,   scaleX,   shapeY,   scaleY,   theta,   method = c(\"series_acc\", \"conv_dePril\"),   time = 1,   log = FALSE,   conv_steps = 100,   conv_extrap = TRUE,   series_terms = 50,   series_acc_niter = 300,   series_acc_eps = 1e-10 )  dBivariateWeibullCountFrankCopula_loglik(   x,   y,   shapeX,   scaleX,   shapeY,   scaleY,   theta,   method = c(\"series_acc\", \"conv_dePril\"),   time = 1,   na.rm = TRUE,   conv_steps = 100,   conv_extrap = TRUE,   series_terms = 50,   series_acc_niter = 300,   series_acc_eps = 1e-10,   weights = NULL )"},{"path":"https://geobosh.github.io/Countr/reference/dBivariateWeibullCountFrankCopula.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Density and log-likelihood of the Bivariate Frank Copula Weibull Count model — dBivariateWeibullCountFrankCopula","text":"x, y numeric, desired counts. shapeX, shapeY numeric, shape parameters. Either length(x) length(1). scaleX, scaleY numeric, scale parameters (length(x)). theta numeric, Frank copula parameter. method character method used. Choices \"series_acc\" (accelerated series expansion) \"conv_dePril\" (convolution dePril algorithm). time numeric, length observation window (defaults 1). log TODO conv_steps integer, number steps use computation integral. conv_extrap logical, TRUE, Richardson extrapolation applied improve accuracy. series_terms number terms used series expansion. series_acc_niter number iterations acceleration algorithm. series_acc_eps double, tolerance declare convergence acceleration algorithm. na.rm logical, NAs (obtained log small probabilities) replaced smallest allowed probability? weights numeric vector weights apply. NULL, vector ones.","code":""},{"path":"https://geobosh.github.io/Countr/reference/dBivariateWeibullCountFrankCopula.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Density and log-likelihood of the Bivariate Frank Copula Weibull Count model — dBivariateWeibullCountFrankCopula","text":"dBivariateWeibullCountFrankCopula, vector     (log-)probabilities. dBivariateWeibullCountFrankCopula_loglik,     log-likelihood model, number.","code":""},{"path":"https://geobosh.github.io/Countr/reference/dBivariateWeibullCountFrankCopula.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Density and log-likelihood of the Bivariate Frank Copula Weibull Count model — dBivariateWeibullCountFrankCopula","text":"dBivariateWeibullCountFrankCopula computes probabilities \\(P(X(t) = x(t), Y(t) = y(t))\\), \\(X(t),Y(t)\\) bivariate Weibull count process bivariate distribution modelled Frank copulas.","code":""},{"path":"https://geobosh.github.io/Countr/reference/dBivariateWeibullCountFrankCopula.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Density and log-likelihood of the Bivariate Frank Copula Weibull Count model — dBivariateWeibullCountFrankCopula","text":"","code":"## first 10 cases from \"estimationParams.RDS\", rounded for presentation gam_weiH <-  0.9530455 gam_weiA <-  1.010051 theta    <- -0.3703702 HG <- c(0, 0, 0, 2, 1, 0, 2, 0, 1, 2) AG <- c(2, 2, 1, 1, 6, 1, 0, 2, 0, 1) lambdaHome <- c(1.5, 1.0, 1.3, 1.8, 1.3, 1.2, 1.3, 1.0, 2.0, 1.4) lambdaAway <- c(1.2, 2.4, 1.3, 0.7, 1.3, 1.4, 0.6, 1.6, 0.6, 1.3)  weiFrank0 <- dBivariateWeibullCountFrankCopula(     HG, AG, gam_weiH, lambdaHome, gam_weiA, lambdaAway, theta,     \"series_acc\", 1, TRUE)  weiFrank1 <- dBivariateWeibullCountFrankCopula(     HG, AG, gam_weiH, lambdaHome, gam_weiA, lambdaAway, theta,     \"conv_dePril\", 1, TRUE, conv_extrap = TRUE)   weights <- c(0.01355306, 0.01355306, 0.01355306, 0.01355306, 0.01355306,              0.01355306, 0.01355306, 0.01355306, 0.01357825, 0.01357825)  weiFrank2 <- dBivariateWeibullCountFrankCopula_loglik(     HG, AG, gam_weiH, lambdaHome, gam_weiA, lambdaAway, theta,     \"conv_dePril\", 1, TRUE, conv_extrap = TRUE, weights = weights)  weiFrank3 <- dBivariateWeibullCountFrankCopula_loglik(     HG, AG, gam_weiH, lambdaHome, gam_weiA, lambdaAway, theta,     \"series_acc\", 1, TRUE, weights = weights)  cbind(weiFrank0, weiFrank1, weiFrank2, weiFrank3) #>                            weiFrank2  weiFrank3 #>  [1,] -3.110436 -3.110436 -0.3893715 -0.3893715 #>  [2,] -2.319851 -2.319851 -0.3893715 -0.3893715 #>  [3,] -2.319555 -2.319555 -0.3893715 -0.3893715 #>  [4,] -2.384469 -2.384469 -0.3893715 -0.3893715 #>  [5,] -7.466125 -7.466124 -0.3893715 -0.3893715 #>  [6,] -2.237400 -2.237400 -0.3893715 -0.3893715 #>  [7,] -2.112886 -2.112886 -0.3893715 -0.3893715 #>  [8,] -2.387953 -2.387953 -0.3893715 -0.3893715 #>  [9,] -1.915774 -1.915774 -0.3893715 -0.3893715 #> [10,] -2.466820 -2.466820 -0.3893715 -0.3893715 ## rdname dRenewalFrankCopula_user"},{"path":"https://geobosh.github.io/Countr/reference/dCount_allProbs_bi.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute count probabilities using simple convolution — dCount_allProbs_bi","title":"Compute count probabilities using simple convolution — dCount_allProbs_bi","text":"Compute count probabilities using simple convolution (section 2) built-distributions Compute count probabilities using simple convolution (section 2) user passed survival functions","code":""},{"path":"https://geobosh.github.io/Countr/reference/dCount_allProbs_bi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute count probabilities using simple convolution — dCount_allProbs_bi","text":"","code":"dCount_allProbs_bi(   x,   distPars,   dist,   nsteps = 100L,   time = 1,   extrap = TRUE,   logFlag = FALSE )  dCount_allProbs_user(   x,   distPars,   extrapolPars,   survR,   nsteps = 100L,   time = 1,   extrap = TRUE,   logFlag = FALSE )"},{"path":"https://geobosh.github.io/Countr/reference/dCount_allProbs_bi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute count probabilities using simple convolution — dCount_allProbs_bi","text":"x integer (vector), desired count values. distPars Rcpp::List distribution specific slots, see section ‘Details’. dist character name built-distribution, see section ‘Details’. nsteps unsiged integer number steps used compute integral. time double time wich compute probabilities. Set 1 default. extrap logical TRUE, Richardson extrapolation applied improve accuracy. logFlag logical TRUE log-probability returned. extrapolPars ma::vec length 2. extrapolation values. survR Rcpp::Function user passed survival function; signature function(t, distPars) t real number (>0) survival function evaluated distPars list distribution parameters. return double value.","code":""},{"path":"https://geobosh.github.io/Countr/reference/dCount_allProbs_bi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute count probabilities using simple convolution — dCount_allProbs_bi","text":"vector probabilities P(x()) = 1, ..., n n length x.","code":""},{"path":"https://geobosh.github.io/Countr/reference/dCount_allProbs_bi.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Compute count probabilities using simple convolution — dCount_allProbs_bi","text":"routine convolutions produce probabilities probs(0), ... probs(xmax) using nsteps steps, refines result Richardson extrapolation extrap TRUE using algorithm section 2.","code":""},{"path":"https://geobosh.github.io/Countr/reference/dCount_conv_bi.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute count probabilities using convolution — dCount_conv_bi","title":"Compute count probabilities using convolution — dCount_conv_bi","text":"Compute count probabilities using one several convolution methods. dCount_conv_bi computations distributions builtin support package. dCount_conv_user using user defined survival function.","code":""},{"path":"https://geobosh.github.io/Countr/reference/dCount_conv_bi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute count probabilities using convolution — dCount_conv_bi","text":"","code":"dCount_conv_bi(   x,   distPars,   dist = c(\"weibull\", \"gamma\", \"gengamma\", \"burr\"),   method = c(\"dePril\", \"direct\", \"naive\"),   nsteps = 100,   time = 1,   extrap = TRUE,   log = FALSE )  dCount_conv_user(   x,   distPars,   extrapolPars,   survR,   method = c(\"dePril\", \"direct\", \"naive\"),   nsteps = 100,   time = 1,   extrap = TRUE,   log = FALSE )"},{"path":"https://geobosh.github.io/Countr/reference/dCount_conv_bi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute count probabilities using convolution — dCount_conv_bi","text":"x integer (vector), desired count values. distPars Rcpp::List distribution specific slots, see section ‘Details’. dist character name built-distribution, see section ‘Details’. method character string, method use, see section ‘Details’. nsteps unsiged integer, number steps used compute integral. time double, time wich compute probabilities. Set 1 default. extrap logical, TRUE, Richardson extrapolation applied improve accuracy. log logical, TRUE log-probability returned. extrapolPars vector length 2, extrapolation values. survR function, user supplied survival function; signature function(t, distPars), t positive real number (time survival function evaluated) distPars list distribution parameters. return double value.","code":""},{"path":"https://geobosh.github.io/Countr/reference/dCount_conv_bi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute count probabilities using convolution — dCount_conv_bi","text":"vector probabilities \\(P(x(),\\ = 1, ..., n)\\) \\(n\\)     length x.","code":""},{"path":"https://geobosh.github.io/Countr/reference/dCount_conv_bi.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Compute count probabilities using convolution — dCount_conv_bi","text":"dCount_conv_bi computes count probabilities using one several convolution methods distributions builtin support package. following convolution methods implemented: \"dePril\", \"direct\", \"naive\". builtin distributions currently Weibull, gamma, generalised gamma Burr.","code":""},{"path":"https://geobosh.github.io/Countr/reference/dCount_conv_bi.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute count probabilities using convolution — dCount_conv_bi","text":"","code":"x <- 0:10 lambda <- 2.56 p0 <- dpois(x, lambda) ll <- sum(dpois(x, lambda, TRUE))  err <- 1e-6 ## all-probs convolution approach distPars <- list(scale = lambda, shape = 1) pmat_bi <- dCount_conv_bi(x, distPars, \"weibull\", \"direct\",                           nsteps = 200)  ## user pwei pwei_user <- function(tt, distP) {     alpha <- exp(-log(distP[[\"scale\"]]) / distP[[\"shape\"]])     pweibull(q = tt, scale = alpha, shape = distP[[\"shape\"]],              lower.tail = FALSE) }  pmat_user <- dCount_conv_user(x, distPars, c(1, 2), pwei_user, \"direct\",                               nsteps = 200) max((pmat_bi - p0)^2 / p0) #> [1] 3.879293e-16 max((pmat_user - p0)^2 / p0) #> [1] 4.753405e-15  ## naive convolution approach pmat_bi <- dCount_conv_bi(x, distPars, \"weibull\", \"naive\",                           nsteps = 200) pmat_user <- dCount_conv_user(x, distPars, c(1, 2), pwei_user, \"naive\",                               nsteps = 200) max((pmat_bi- p0)^2 / p0) #> [1] 3.879293e-16 max((pmat_user- p0)^2 / p0) #> [1] 4.753405e-15  ## dePril conv approach pmat_bi <- dCount_conv_bi(x, distPars, \"weibull\", \"dePril\",                           nsteps = 200) pmat_user <- dCount_conv_user(x, distPars, c(1, 2), pwei_user, \"dePril\",                               nsteps = 200) max((pmat_bi- p0)^2 / p0) #> [1] 4.105397e-15 max((pmat_user- p0)^2 / p0) #> [1] 4.753405e-15"},{"path":"https://geobosh.github.io/Countr/reference/dCount_conv_loglik_bi.html","id":null,"dir":"Reference","previous_headings":"","what":"Log-likelihood of a count probability computed by convolution (bi) — dCount_conv_loglik_bi","title":"Log-likelihood of a count probability computed by convolution (bi) — dCount_conv_loglik_bi","text":"Compute log-likelihood count model using  convolution methods compute probabilities. dCount_conv_loglik_bi builtin distributions. dCount_conv_loglik_user user defined survival functions.","code":""},{"path":"https://geobosh.github.io/Countr/reference/dCount_conv_loglik_bi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Log-likelihood of a count probability computed by convolution (bi) — dCount_conv_loglik_bi","text":"","code":"dCount_conv_loglik_bi(   x,   distPars,   dist = c(\"weibull\", \"gamma\", \"gengamma\", \"burr\"),   method = c(\"dePril\", \"direct\", \"naive\"),   nsteps = 100,   time = 1,   extrap = TRUE,   na.rm = TRUE,   weights = NULL )  dCount_conv_loglik_user(   x,   distPars,   extrapolPars,   survR,   method = c(\"dePril\", \"direct\", \"naive\"),   nsteps = 100,   time = 1,   extrap = TRUE,   na.rm = TRUE,   weights = NULL )"},{"path":"https://geobosh.github.io/Countr/reference/dCount_conv_loglik_bi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Log-likelihood of a count probability computed by convolution (bi) — dCount_conv_loglik_bi","text":"x integer (vector), desired count values. distPars list length x slot named list containing distribution parameters corresponding x[]. dist character name built-distribution, see section ‘Details’. method character, convolution method used; choices \"dePril\" (section 3.2), \"direct\" (section 2) \"naive\" (section 3.1). nsteps unsiged integer number steps used compute integral. time double time wich compute probabilities. Set 1 default. extrap logical TRUE, Richardson extrapolation applied improve accuracy. na.rm logical, TRUE, NAs (produced taking log small probabilities) replaced smallest allowed probability; default TRUE. weights numeric, vector weights apply. NULL, vector ones. extrapolPars list length x slot vector length 2 (extrapolation values used) corresponding x[]. survR user defined survival function; signature function(t, distPars) t real number (>0) survival function evaluated distPars list distribution parameters. return double value.","code":""},{"path":"https://geobosh.github.io/Countr/reference/dCount_conv_loglik_bi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Log-likelihood of a count probability computed by convolution (bi) — dCount_conv_loglik_bi","text":"numeric, log-likelihood count process","code":""},{"path":"https://geobosh.github.io/Countr/reference/dCount_conv_loglik_bi.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Log-likelihood of a count probability computed by convolution (bi) — dCount_conv_loglik_bi","text":"","code":"x <- 0:10 lambda <- 2.56 distPars <- list(scale = lambda, shape = 1) distParsList <- lapply(seq(along = x), function(ind) distPars) extrapolParsList <- lapply(seq(along = x), function(ind) c(2, 1)) ## user pwei pwei_user <- function(tt, distP) {     alpha <- exp(-log(distP[[\"scale\"]]) / distP[[\"shape\"]])     pweibull(q = tt, scale = alpha, shape = distP[[\"shape\"]],              lower.tail = FALSE) }  ## log-likehood allProbs Poisson dCount_conv_loglik_bi(x, distParsList,                       \"weibull\", \"direct\", nsteps = 400) #> [1] -40.52531  dCount_conv_loglik_user(x, distParsList, extrapolParsList,                         pwei_user, \"direct\", nsteps = 400) #> [1] -40.52531  ## log-likehood naive Poisson dCount_conv_loglik_bi(x, distParsList,                       \"weibull\", \"naive\", nsteps = 400) #> [1] -40.52531  dCount_conv_loglik_user(x, distParsList, extrapolParsList,                         pwei_user, \"naive\", nsteps = 400) #> [1] -40.52531  ## log-likehood dePril Poisson dCount_conv_loglik_bi(x, distParsList,                       \"weibull\", \"dePril\", nsteps = 400) #> [1] -40.52531  dCount_conv_loglik_user(x, distParsList, extrapolParsList,                         pwei_user, \"dePril\", nsteps = 400) #> [1] -40.52531 ## see dCount_conv_loglik_bi()"},{"path":"https://geobosh.github.io/Countr/reference/dCount_dePril_bi.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute count probabilities using dePril convolution (bi) — dCount_dePril_bi","title":"Compute count probabilities using dePril convolution (bi) — dCount_dePril_bi","text":"Compute count probabilities using dePril convolution (section 3.2) built-distributions Compute count probabilities using dePril convolution (section 3.2) user passed survival function.","code":""},{"path":"https://geobosh.github.io/Countr/reference/dCount_dePril_bi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute count probabilities using dePril convolution (bi) — dCount_dePril_bi","text":"","code":"dCount_dePril_bi(   x,   distPars,   dist,   nsteps = 100L,   time = 1,   extrap = TRUE,   cdfout = FALSE,   logFlag = FALSE )  dCount_dePril_user(   x,   distPars,   extrapolPars,   survR,   nsteps = 100L,   time = 1,   extrap = TRUE,   cdfout = FALSE,   logFlag = FALSE )"},{"path":"https://geobosh.github.io/Countr/reference/dCount_dePril_bi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute count probabilities using dePril convolution (bi) — dCount_dePril_bi","text":"cdfout logical TRUE, cdf returned instead count probability. survR Rcpp::Function user passed survival function; signature function(t, distPars) t real number (>0) survival function evaluated distPars list distribution parameters. return double value.","code":""},{"path":"https://geobosh.github.io/Countr/reference/dCount_dePril_bi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute count probabilities using dePril convolution (bi) — dCount_dePril_bi","text":"vector probabilities P(x()) = 1, ..., n n length x.","code":""},{"path":"https://geobosh.github.io/Countr/reference/dCount_dePril_bi.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Compute count probabilities using dePril convolution (bi) — dCount_dePril_bi","text":"routine minimum number convolution using dePril trick compute count probability P(x) sing nsteps steps, refines result Richardson extrapolation extrap TRUE using algorithm section 3.2.","code":""},{"path":"https://geobosh.github.io/Countr/reference/dCount_naive_bi.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute count probabilities using naive convolution (bi) — dCount_naive_bi","title":"Compute count probabilities using naive convolution (bi) — dCount_naive_bi","text":"Compute count probabilities using naive convolution (section 3.1) built-distributions Compute count probabilities using naive convolution (section 3.1) user passed survival function.","code":""},{"path":"https://geobosh.github.io/Countr/reference/dCount_naive_bi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute count probabilities using naive convolution (bi) — dCount_naive_bi","text":"","code":"dCount_naive_bi(   x,   distPars,   dist,   nsteps = 100L,   time = 1,   extrap = TRUE,   cdfout = FALSE,   logFlag = FALSE )  dCount_naive_user(   x,   distPars,   extrapolPars,   survR,   nsteps = 100L,   time = 1,   extrap = TRUE,   cdfout = FALSE,   logFlag = FALSE )"},{"path":"https://geobosh.github.io/Countr/reference/dCount_naive_bi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute count probabilities using naive convolution (bi) — dCount_naive_bi","text":"cdfout logical TRUE, cdf returned instead count probability. survR Rcpp::Function user passed survival function; signature function(t, distPars) t real number (>0) survival function evaluated distPars list distribution parameters. return double value.","code":""},{"path":"https://geobosh.github.io/Countr/reference/dCount_naive_bi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute count probabilities using naive convolution (bi) — dCount_naive_bi","text":"vector probabilities P(x()) = 1, ..., n n length x.","code":""},{"path":"https://geobosh.github.io/Countr/reference/dCount_naive_bi.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Compute count probabilities using naive convolution (bi) — dCount_naive_bi","text":"routine minimum number convolution compute count probability P(x) sing nsteps steps, refines result Richardson extrapolation extrap TRUE using algorithm section 3.1.","code":""},{"path":"https://geobosh.github.io/Countr/reference/dRenewalFrankCopula_user.html","id":null,"dir":"Reference","previous_headings":"","what":"Bivariate Count probability Using Frank copula (user) — dRenewalFrankCopula_user","title":"Bivariate Count probability Using Frank copula (user) — dRenewalFrankCopula_user","text":"Bivariate Count probability Using Frank copula model dependence using user passed survival objects Bivariate Count probability Using Frank copula model dependence using built-distributions","code":""},{"path":"https://geobosh.github.io/Countr/reference/dRenewalFrankCopula_user.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Bivariate Count probability Using Frank copula (user) — dRenewalFrankCopula_user","text":"","code":"dRenewalFrankCopula_user(   x,   y,   survX,   survY,   distParsX,   distParsY,   extrapolParsX,   extrapolParsY,   theta,   time = 1,   logFlag = FALSE,   nsteps = 100L,   extrap = TRUE )  dRenewalFrankCopula_bi(   x,   y,   distX,   distY,   distParsX,   distParsY,   theta,   time = 1,   logFlag = FALSE,   nsteps = 100L,   extrap = TRUE )"},{"path":"https://geobosh.github.io/Countr/reference/dRenewalFrankCopula_user.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Bivariate Count probability Using Frank copula (user) — dRenewalFrankCopula_user","text":"x, y numeric vector desired counts. survX, survY R functions: survival functions. distParsX, distParsY List Lists. slot named vector distribution parameters. extrapolParsX, extrapolParsY list vec length 2 values Richardson extrapolation parameters inputted distribution. theta double Frank copula parameter. time double time wich compute probabilities. Set 1 default. logFlag TODO nsteps unsiged integer number steps used compute integral. extrap logical TRUE, Richardson extrapolation applied improve accuracy. TODO: (arg. method, maybe!) param dePrilConv logical TRUE       dePril method applied compute convolution. Otherwise, binary decomposition section 3 used. distX, distY character name survival distribution.","code":""},{"path":"https://geobosh.github.io/Countr/reference/dRenewalFrankCopula_user.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Bivariate Count probability Using Frank copula (user) — dRenewalFrankCopula_user","text":"(log) probability bivariate count \\(P(X(t) = x_i, Y(t) = y_i)\\) x_i y_i ith component X Y respectively. (log) probability bivariate count \\(P(X(t) = x_i, Y(t) = y_i)\\) x_i y_i ith component X Y respectively.","code":""},{"path":"https://geobosh.github.io/Countr/reference/dRenewalFrankCopula_user.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Bivariate Count probability Using Frank copula (user) — dRenewalFrankCopula_user","text":"use Frank copula model depepndence 2 renewal count processes obtained user passed inter-arrival distribution defined survPtr, distPars extrapolPars.","code":""},{"path":"https://geobosh.github.io/Countr/reference/dWeibullCount.html","id":null,"dir":"Reference","previous_headings":"","what":"Probability calculations for Weibull count models — dWeibullCount","title":"Probability calculations for Weibull count models — dWeibullCount","text":"Probability computations univariate Weibull count process. Several methods provided. dWeibullCount computes probabilities. dWeibullCount_loglik computes log-likelihood. evWeibullCount computes expected value variance.","code":""},{"path":"https://geobosh.github.io/Countr/reference/dWeibullCount.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Probability calculations for Weibull count models — dWeibullCount","text":"","code":"dWeibullCount(   x,   shape,   scale,   method = c(\"series_acc\", \"series_mat\", \"conv_direct\", \"conv_naive\", \"conv_dePril\"),   time = 1,   log = FALSE,   conv_steps = 100,   conv_extrap = TRUE,   series_terms = 50,   series_acc_niter = 300,   series_acc_eps = 1e-10 )  dWeibullCount_loglik(   x,   shape,   scale,   method = c(\"series_acc\", \"series_mat\", \"conv_direct\", \"conv_naive\", \"conv_dePril\"),   time = 1,   na.rm = TRUE,   conv_steps = 100,   conv_extrap = TRUE,   series_terms = 50,   series_acc_niter = 300,   series_acc_eps = 1e-10,   weights = NULL )  evWeibullCount(   xmax,   shape,   scale,   method = c(\"series_acc\", \"series_mat\", \"conv_direct\", \"conv_naive\", \"conv_dePril\"),   time = 1,   conv_steps = 100,   conv_extrap = TRUE,   series_terms = 50,   series_acc_niter = 300,   series_acc_eps = 1e-10 )"},{"path":"https://geobosh.github.io/Countr/reference/dWeibullCount.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Probability calculations for Weibull count models — dWeibullCount","text":"x integer (vector), desired count values. shape numeric (length 1), shape parameter Weibull count. scale numeric (length 1), scale parameter Weibull count. method character, one available methods, see section ‘Details’. time double, length observation window (defaults 1). log logical, TRUE, log probability returned. conv_steps numeric, number steps used extrapolation. conv_extrap logical, Richardson extrappolation applied ? series_terms numeric, number terms series expansion. series_acc_niter numeric, number iterations Euler-van Wijngaarden algorithm. series_acc_eps numeric, tolerance convergence Euler-van Wijngaarden algorithm. na.rm logical, TRUE NA's (produced taking log small probabilities) replaced smallest allowed probaility; default TRUE. weights numeric, vector weights apply. NULL, vector one's applied. xmax unsigned integer, maximum count used.","code":""},{"path":"https://geobosh.github.io/Countr/reference/dWeibullCount.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Probability calculations for Weibull count models — dWeibullCount","text":"dWeibullCount, vector probabilities     \\(P(x()), = 1, \\dots n\\), \\(n =\\) length(x). dWeibullCount_loglik,     double, log-likelihood count process. evWeibullCount, list components: ExpectedValue expected value, Variance variance.","code":""},{"path":"https://geobosh.github.io/Countr/reference/dWeibullCount.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Probability calculations for Weibull count models — dWeibullCount","text":"Argument method can used specify desired method, follows: \"series_mat\" - series expansion using matrix techniques, \"series_acc\" - Euler-van Wijngaarden accelerated series expansion (default), \"conv_direc\"t - direct convolution method section 2, \"conv_naive\" - naive convolurion described section 3.1, \"conv_dePril\" - dePril convolution described section 3.2. arguments sensible default values.","code":""},{"path":"https://geobosh.github.io/Countr/reference/dWeibullCount_mat.html","id":null,"dir":"Reference","previous_headings":"","what":"Univariate Weibull Count Probability — dWeibullCount_mat","title":"Univariate Weibull Count Probability — dWeibullCount_mat","text":"Univariate Weibull count probability computed using matrix techniques.","code":""},{"path":"https://geobosh.github.io/Countr/reference/dWeibullCount_mat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Univariate Weibull Count Probability — dWeibullCount_mat","text":"","code":"dWeibullCount_mat(x, shape, scale, time = 1, logFlag = FALSE, jmax = 50L)  dWeibullCount_acc(   x,   shape,   scale,   time = 1,   logFlag = FALSE,   jmax = 50L,   nmax = 300L,   eps = 1e-10,   printa = FALSE )"},{"path":"https://geobosh.github.io/Countr/reference/dWeibullCount_mat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Univariate Weibull Count Probability — dWeibullCount_mat","text":"x integer (vector), desired count values. shape numeric (length 1), shape parameter Weibull count. scale numeric (length 1), scale parameter Weibull count. time double, length observation window (defaults 1). logFlag logical, TRUE, log probability returned. jmax integer, number terms used approximate (infinite) series. nmax integer, upper bound number terms summed Euler-van Wijngaarden sum; default 300 terms. eps numeric, desired accuracy declare convergence. printa logical, TRUE print information convergence.","code":""},{"path":"https://geobosh.github.io/Countr/reference/dWeibullCount_mat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Univariate Weibull Count Probability — dWeibullCount_mat","text":"vector probabilities component count vector     x.","code":""},{"path":"https://geobosh.github.io/Countr/reference/dWeibullCount_mat.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Univariate Weibull Count Probability — dWeibullCount_mat","text":"dWeibullCount_mat implements formulae (11) McShane(2008) compute required probabilities.  speed, computations implemented C++ matrix computations used whenever possible. implementation efficient recomputes alpha matrix time, may slow computation (among things). dWeibullCount_acc achieves vast (several orders magnitude) speed improvement pWeibullCountOrig. achieve using Euler-van Wijngaarden techniques accelerating convergence alternating series tabulation alpha terms available pre-computed matrix (shipped package). computation time issue, recommend use dWeibullCount_fast. However, pWeibullCountOrig may accurate, especially jmax large.","code":""},{"path":"https://geobosh.github.io/Countr/reference/dWeibullgammaCount.html","id":null,"dir":"Reference","previous_headings":"","what":"Fast Univariate Weibull Count Probability with gamma heterogeneity — dWeibullgammaCount_acc","title":"Fast Univariate Weibull Count Probability with gamma heterogeneity — dWeibullgammaCount_acc","text":"Probability computations univariate Weibull-gamma count processes. Several methods provided. dWeibullgammaCount computes probabilities. dWeibullgammaCount_loglik computes log-likelihood. evWeibullgammaCount computes expected value variance.","code":""},{"path":"https://geobosh.github.io/Countr/reference/dWeibullgammaCount.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fast Univariate Weibull Count Probability with gamma heterogeneity — dWeibullgammaCount_acc","text":"","code":"dWeibullgammaCount_acc(   x,   shape,   r,   alpha,   time = 1,   logFlag = FALSE,   jmax = 100L,   nmax = 300L,   eps = 1e-10,   printa = FALSE )  dWeibullgammaCount(   x,   shape,   shapeGam,   scaleGam,   Xcovar = NULL,   beta = NULL,   method = c(\"series_acc\", \"series_mat\"),   time = 1,   log = FALSE,   series_terms = 50,   series_acc_niter = 300,   series_acc_eps = 1e-10 )  dWeibullgammaCount_loglik(   x,   shape,   shapeGam,   scaleGam,   Xcovar = NULL,   beta = NULL,   method = c(\"series_acc\", \"series_mat\"),   time = 1,   na.rm = TRUE,   series_terms = 50,   series_acc_niter = 300,   series_acc_eps = 1e-10,   weights = NULL )  evWeibullgammaCount(   xmax,   shape,   shapeGam,   scaleGam,   Xcovar = NULL,   beta = NULL,   method = c(\"series_acc\", \"series_mat\"),   time = 1,   series_terms = 50,   series_acc_niter = 300,   series_acc_eps = 1e-10 )"},{"path":"https://geobosh.github.io/Countr/reference/dWeibullgammaCount.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fast Univariate Weibull Count Probability with gamma heterogeneity — dWeibullgammaCount_acc","text":"x integer (vector), desired count values. shape numeric (length 1), shape parameter Weibull count. r numeric shape gamma distribution alpha numeric rate gamma distribution time double, length observation window (defaults 1). logFlag logical, TRUE, log probability returned. jmax integer, number terms used approximate (infinite) series. nmax integer, upper bound number terms summed Euler-van Wijngaarden sum; default 300 terms. eps numeric, desired accuracy declare convergence. printa logical, TRUE print information convergence. shapeGam, scaleGam numeric shape scale parameters gamma heterogeity function. Xcovar matrix regressor values. number rows length(x). NULL, regression considered. beta numeric regression coefficients. NULL, regression considered. method character one available methods. see section ‘Details’. log logical, TRUE, log probability returned. series_terms numeric number terms series expansion. series_acc_niter numeric number iteration Euler-van Wijngaarden algorithm. series_acc_eps numeric tolerance convergence Euler-van Wijngaarden algorithm. na.rm logical, TRUE, NA's (produced taking log small probabilities) replaced smallest allowed probaility; default = TRUE. weights numeric, vector weights apply. NULL, one applied. xmax unsigned integer, maximum count used.","code":""},{"path":"https://geobosh.github.io/Countr/reference/dWeibullgammaCount.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fast Univariate Weibull Count Probability with gamma heterogeneity — dWeibullgammaCount_acc","text":"dWeibullgammaCount, vector probabilities     \\(P(x()), = 1, \\dots n\\) n = length(x). dWeibullgammaCount_loglik, double,     log-likelihood count process evWeibullgammaCount, list components     \"ExpectedValue\" \"Variance\".","code":""},{"path":"https://geobosh.github.io/Countr/reference/dWeibullgammaCount.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Fast Univariate Weibull Count Probability with gamma heterogeneity — dWeibullgammaCount_acc","text":"desired method can specified argument method, follows: \"series_mat\" series expansion using matrix techniques. \"series_acc\" Euler-van Wijngaarden accelerated series expansion. arguments sensible default values.","code":""},{"path":"https://geobosh.github.io/Countr/reference/dWeibullgammaCount_mat.html","id":null,"dir":"Reference","previous_headings":"","what":"Univariate Weibull Count Probability with gamma heterogeneity — dWeibullgammaCount_mat","title":"Univariate Weibull Count Probability with gamma heterogeneity — dWeibullgammaCount_mat","text":"Univariate Weibull Count Probability gamma heterogeneity","code":""},{"path":"https://geobosh.github.io/Countr/reference/dWeibullgammaCount_mat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Univariate Weibull Count Probability with gamma heterogeneity — dWeibullgammaCount_mat","text":"","code":"dWeibullgammaCount_mat(   x,   shape,   r,   alpha,   time = 1,   logFlag = FALSE,   jmax = 100L )"},{"path":"https://geobosh.github.io/Countr/reference/dWeibullgammaCount_mat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Univariate Weibull Count Probability with gamma heterogeneity — dWeibullgammaCount_mat","text":"r, alpha double gamma parameters","code":""},{"path":"https://geobosh.github.io/Countr/reference/dWeibullgammaCount_mat_Covariates.html","id":null,"dir":"Reference","previous_headings":"","what":"Univariate Weibull Count Probability with gamma and covariate heterogeneity — dWeibullgammaCount_mat_Covariates","title":"Univariate Weibull Count Probability with gamma and covariate heterogeneity — dWeibullgammaCount_mat_Covariates","text":"Univariate Weibull Count Probability gamma covariate heterogeneity","code":""},{"path":"https://geobosh.github.io/Countr/reference/dWeibullgammaCount_mat_Covariates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Univariate Weibull Count Probability with gamma and covariate heterogeneity — dWeibullgammaCount_mat_Covariates","text":"","code":"dWeibullgammaCount_mat_Covariates(   x,   cc,   r,   alpha,   Xcovar,   beta,   t = 1,   logFlag = FALSE,   jmax = 100L )"},{"path":"https://geobosh.github.io/Countr/reference/dWeibullgammaCount_mat_Covariates.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Univariate Weibull Count Probability with gamma and covariate heterogeneity — dWeibullgammaCount_mat_Covariates","text":"x, cc, t, logFlag, jmax TODO keywords internal r numeric shape gamma distribution alpha numeric rate gamma distribution Xcovar matrix covariates value beta numeric vector slopes","code":""},{"path":"https://geobosh.github.io/Countr/reference/dmodifiedCount_bi.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute count probabilities based on modified renewal process (bi) — dmodifiedCount_bi","title":"Compute count probabilities based on modified renewal process (bi) — dmodifiedCount_bi","text":"Compute count probabilities based modified renewal process using dePril algorithm. dmodifiedCount_bi builtin distributions. dmodifiedCount_user user specified distribution.","code":""},{"path":"https://geobosh.github.io/Countr/reference/dmodifiedCount_bi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute count probabilities based on modified renewal process (bi) — dmodifiedCount_bi","text":"","code":"dmodifiedCount_bi(   x,   distPars,   dist,   distPars0,   dist0,   nsteps = 100L,   time = 1,   extrap = TRUE,   cdfout = FALSE,   logFlag = FALSE )  dmodifiedCount_user(   x,   distPars,   survR,   distPars0,   survR0,   extrapolPars,   nsteps = 100L,   time = 1,   extrap = TRUE,   cdfout = FALSE,   logFlag = FALSE )"},{"path":"https://geobosh.github.io/Countr/reference/dmodifiedCount_bi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute count probabilities based on modified renewal process (bi) — dmodifiedCount_bi","text":"x integer (vector), desired count values. distPars0, distPars Rcpp::List distribution specific slots first arrival rest process respectively. dist0, dist character, name first following survival distributions. nsteps unsiged integer number steps used compute integral. time double time wich compute probabilities. Set 1 default. extrap logical TRUE, Richardson extrapolation applied improve accuracy. cdfout TODO logFlag logical TRUE log-probability returned. survR0, survR user supplied survival function; signature function(t, distPars), t positive real number (time survival function evaluated) distPars list distribution parameters. return double value (first arrival following arrivals respectively). extrapolPars list length x, slot vector length 2 (extrapolation values used) corresponding x[].","code":""},{"path":"https://geobosh.github.io/Countr/reference/dmodifiedCount_bi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute count probabilities based on modified renewal process (bi) — dmodifiedCount_bi","text":"vector probabilities P(x()) = 1, ..., n n     length x.","code":""},{"path":"https://geobosh.github.io/Countr/reference/dmodifiedCount_bi.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Compute count probabilities based on modified renewal process (bi) — dmodifiedCount_bi","text":"modified renewal process first arrival allowed different distribution  time subsequent arrivals. renewal assumption kept.","code":""},{"path":"https://geobosh.github.io/Countr/reference/evCount_conv_bi.html","id":null,"dir":"Reference","previous_headings":"","what":"Expected value and variance of a renewal count process — evCount_conv_bi","title":"Expected value and variance of a renewal count process — evCount_conv_bi","text":"Compute numerically expected values variances renewal count processes.","code":""},{"path":"https://geobosh.github.io/Countr/reference/evCount_conv_bi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Expected value and variance of a renewal count process — evCount_conv_bi","text":"","code":"evCount_conv_bi(   xmax,   distPars,   dist = c(\"weibull\", \"gamma\", \"gengamma\", \"burr\"),   method = c(\"dePril\", \"direct\", \"naive\"),   nsteps = 100,   time = 1,   extrap = TRUE )  evCount_conv_user(   xmax,   distPars,   extrapolPars,   survR,   method = c(\"dePril\", \"direct\", \"naive\"),   nsteps = 100,   time = 1,   extrap = TRUE )"},{"path":"https://geobosh.github.io/Countr/reference/evCount_conv_bi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Expected value and variance of a renewal count process — evCount_conv_bi","text":"xmax unsigned integer maximum count used. distPars TODO dist TODO method TODO nsteps unsiged integer, number steps used compute integral. time double, time wich compute probabilities. Set 1 default. extrap logical, TRUE, Richardson extrapolation applied improve accuracy. extrapolPars ma::vec length 2. extrapolation values. survR function, user supplied survival function; signature function(t, distPars), t positive real number (time survival function evaluated) distPars list distribution parameters. return double value.","code":""},{"path":"https://geobosh.github.io/Countr/reference/evCount_conv_bi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Expected value and variance of a renewal count process — evCount_conv_bi","text":"named list components ExpectedValue Variance","code":""},{"path":"https://geobosh.github.io/Countr/reference/evCount_conv_bi.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Expected value and variance of a renewal count process — evCount_conv_bi","text":"evCount_conv_bi computes expected value variance renewal count processes builtin distirbutions inter-arrival times. evCount_conv_user computes expected value variance user specified distribution inter-arrival times.","code":""},{"path":"https://geobosh.github.io/Countr/reference/evCount_conv_bi.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Expected value and variance of a renewal count process — evCount_conv_bi","text":"","code":"pwei_user <- function(tt, distP) {     alpha <- exp(-log(distP[[\"scale\"]]) / distP[[\"shape\"]])     pweibull(q = tt, scale = alpha, shape = distP[[\"shape\"]],              lower.tail = FALSE) }  ## ev convolution Poisson count lambda <- 2.56 beta <- 1 distPars <- list(scale = lambda, shape = beta)  evbi <- evCount_conv_bi(20, distPars, dist = \"weibull\") evu <- evCount_conv_user(20, distPars, c(2, 2), pwei_user, \"dePril\")  c(evbi[[\"ExpectedValue\"]], lambda) #> [1] 2.560001 2.560000 c(evu[[\"ExpectedValue\"]], lambda ) #> [1] 2.560001 2.560000 c(evbi[[\"Variance\"]], lambda     ) #> [1] 2.560003 2.560000 c(evu[[\"Variance\"]], lambda      ) #> [1] 2.56 2.56  ## ev convolution weibull count lambda <- 2.56 beta <- 1.35 distPars <- list(scale = lambda, shape = beta)  evbi <- evCount_conv_bi(20, distPars, dist = \"weibull\") evu <- evCount_conv_user(20, distPars, c(2.35, 2), pwei_user, \"dePril\")  x <- 1:20 px <- dCount_conv_bi(x, distPars, \"weibull\", \"dePril\",                      nsteps = 100) ev <- sum(x * px) var <- sum(x^2 * px) - ev^2  c(evbi[[\"ExpectedValue\"]], ev) #> [1] 1.968046 1.968046 c(evu[[\"ExpectedValue\"]], ev ) #> [1] 1.968046 1.968046 c(evbi[[\"Variance\"]], var    ) #> [1] 1.348213 1.348213 c(evu[[\"Variance\"]], var     ) #> [1] 1.348214 1.348213"},{"path":"https://geobosh.github.io/Countr/reference/fertility.html","id":null,"dir":"Reference","previous_headings":"","what":"Fertility data — fertility","title":"Fertility data — fertility","text":"Fertility data analysed Winkelmann(1995). data comes second (1985) wave German Socio-Economic Panel. sample formed 1,243 women aged 44 older 1985. response variable number children per woman explanatory variables described details .","code":""},{"path":"https://geobosh.github.io/Countr/reference/fertility.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fertility data — fertility","text":"","code":"fertility"},{"path":"https://geobosh.github.io/Countr/reference/fertility.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Fertility data — fertility","text":"data frame 9 variables (5 factors, 4 integers) 1243 observations: children integer; response variable: number children per woman (integer). german factor; mother German? (yes ). years_school integer; education measured years schooling. voc_train factor; vocational training ? (yes ) university factor; university education ? (yes ) religion factor; mother's religion: Catholic, Protestant, Muslim Others (reference). rural factor; rural (yes ?) year_birth integer; year birth (last 2 digits) age_marriage integer; age marriage details, see Winkelmann (1995) .","code":""},{"path":"https://geobosh.github.io/Countr/reference/fertility.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Fertility data — fertility","text":"Winkelmann R (1995). “Duration dependence dispersion count-data models.” Journal Business & Economic Statistics, 13(4), 467–474.","code":""},{"path":"https://geobosh.github.io/Countr/reference/football.html","id":null,"dir":"Reference","previous_headings":"","what":"Football data — football","title":"Football data — football","text":"Final scores matches English Premier League seasons 2009/2010 2016/2017.","code":""},{"path":"https://geobosh.github.io/Countr/reference/football.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Football data — football","text":"","code":"football"},{"path":"https://geobosh.github.io/Countr/reference/football.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Football data — football","text":"data.frame 6 columns 1104 observations: seasonId integer season identifier (year first month competition). gameDate POSIXct game date time. homeTeam,awayTeam character home away team name homeTeamGoals,awayTeamGoals integer number goals scored home away team.","code":""},{"path":"https://geobosh.github.io/Countr/reference/football.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Football data — football","text":"data collected https://www.football-data.co.uk/ slightly formatted simplified.","code":""},{"path":"https://geobosh.github.io/Countr/reference/frequency_plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot a frequency chart — frequency_plot","title":"Plot a frequency chart — frequency_plot","text":"Plot frequency chart compare actual predicted values.","code":""},{"path":"https://geobosh.github.io/Countr/reference/frequency_plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot a frequency chart — frequency_plot","text":"","code":"frequency_plot(count_labels, actual, pred, colours = character(0))"},{"path":"https://geobosh.github.io/Countr/reference/frequency_plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot a frequency chart — frequency_plot","text":"count_labels character, labels used. actual numeric, observed probabilities different count specified count_labels. pred data.frame predicted values. number rows actual one column per model. columns' names used labels different models. colours character vector colour codes length ncol(pred) + 2. colours missing length(colours) < ncol(pred) + 2, remaining colours generated using RColorBrewer::brewer.pal.","code":""},{"path":"https://geobosh.github.io/Countr/reference/frequency_plot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot a frequency chart — frequency_plot","text":"object class \"trellis\"","code":""},{"path":"https://geobosh.github.io/Countr/reference/frequency_plot.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot a frequency chart — frequency_plot","text":"order compare actual fitted values, barchart plot created.  user's responsibility provide count, observed fitted values. argument colour missing sufficient length, colours set automatically using function package RColorBrewer. bar chart created lattice::barchart. frequency_plot called command line, returned value automatically ‘printed’ (.e., plot produced). Otherwise, example scripts, may need use print() returned value.","code":""},{"path":"https://geobosh.github.io/Countr/reference/getParNames.html","id":null,"dir":"Reference","previous_headings":"","what":"Return the names of distribution parameters — getParNames","title":"Return the names of distribution parameters — getParNames","text":"Return names parameters count distribution.","code":""},{"path":"https://geobosh.github.io/Countr/reference/getParNames.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Return the names of distribution parameters — getParNames","text":"","code":"getParNames(dist, ...)"},{"path":"https://geobosh.github.io/Countr/reference/getParNames.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Return the names of distribution parameters — getParNames","text":"dist character, name distribution. ... parameters pass dist == \"custom\".","code":""},{"path":"https://geobosh.github.io/Countr/reference/getParNames.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Return the names of distribution parameters — getParNames","text":"character vector names distribution parameters","code":""},{"path":"https://geobosh.github.io/Countr/reference/predict.renewal.html","id":null,"dir":"Reference","previous_headings":"","what":"Predict method for renewal objects — predict.renewal","title":"Predict method for renewal objects — predict.renewal","text":"Compute predictions renewal objects.","code":""},{"path":"https://geobosh.github.io/Countr/reference/predict.renewal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Predict method for renewal objects — predict.renewal","text":"","code":"# S3 method for class 'renewal' predict(   object,   newdata = NULL,   type = c(\"response\", \"prob\"),   se.fit = FALSE,   terms = NULL,   na.action = na.pass,   time = 1,   ... )"},{"path":"https://geobosh.github.io/Countr/reference/predict.renewal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Predict method for renewal objects — predict.renewal","text":"object Object class inheriting \"lm\" newdata optional data frame look variables     predict.  omitted, fitted values used. type type prediction.  equal \"response\", give mean probability associated individual covariates. \"prob\", give probability observed count. se.fit switch indicating standard errors required. terms type = \"terms\", terms (default     terms), character vector. na.action function determining done missing     values newdata.  default predict NA. time TODO ... arguments passed methods.","code":""},{"path":"https://geobosh.github.io/Countr/reference/predict.renewal.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Predict method for renewal objects — predict.renewal","text":"","code":"fn <- system.file(\"extdata\", \"McShane_Wei_results_boot.RDS\", package = \"Countr\") object <- readRDS(fn) data <- object$data ## old data predOld.response <- predict(object, type = \"response\", se.fit = TRUE) predOld.prob <- predict(object, type = \"prob\", se.fit = TRUE)  ## newData (extracted from old Data) newData <- head(data) predNew.response <- predict(object, newdata = newData,                             type = \"response\", se.fit = TRUE) predNew.prob <- predict(object, newdata = newData,                         type = \"prob\", se.fit = TRUE)  cbind(head(predOld.response$values),            head(predOld.response$se$scale),            head(predOld.response$se$shape),            predNew.response$values,            predNew.response$se$scale,            predNew.response$se$shape) #>       [,1]     [,2]     [,3]     [,4]     [,5]     [,6] #> 1 2.635956 1.077712 1.356622 1.143575 1.077712 1.356622 #> 2 2.626821 1.078592 1.356622 1.141981 1.078592 1.356622 #> 3 2.386165 1.076344 1.356622 1.098238 1.076344 1.356622 #> 4 2.132807 1.081540 1.356622 1.047548 1.081540 1.356622 #> 5 2.505642 1.075564 1.356622 1.120402 1.075564 1.356622 #> 6 2.630692 1.082185 1.356622 1.142656 1.082185 1.356622  cbind(head(predOld.prob$values),       head(predOld.prob$se$scale),       head(predOld.prob$se$shape),       predNew.prob$values,       predNew.prob$se$scale,       predNew.prob$se$shape) #>           [,1]     [,2]     [,3]         [,4]     [,5]     [,6] #> 1 1.725238e-01 1.077712 1.356622 1.725238e-01 1.077712 1.356622 #> 2 4.097677e-03 1.078592 1.356622 4.097677e-03 1.078592 1.356622 #> 3 1.455299e-01 1.076344 1.356622 1.455299e-01 1.076344 1.356622 #> 4 1.079834e-05 1.081540 1.356622 1.079834e-05 1.081540 1.356622 #> 5 1.583053e-01 1.075564 1.356622 1.583053e-01 1.075564 1.356622 #> 6 1.719442e-01 1.082185 1.356622 1.719442e-01 1.082185 1.356622"},{"path":"https://geobosh.github.io/Countr/reference/renewal.control.html","id":null,"dir":"Reference","previous_headings":"","what":"Creates the renewal control list — renewal.control","title":"Creates the renewal control list — renewal.control","text":"Creates renewal control list used renewal.","code":""},{"path":"https://geobosh.github.io/Countr/reference/renewal.control.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Creates the renewal control list — renewal.control","text":"","code":"renewal.control(   method = \"nlminb\",   maxit = 1000,   trace = 1,   start = NULL,   kkt = FALSE,   ... )"},{"path":"https://geobosh.github.io/Countr/reference/renewal.control.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Creates the renewal control list — renewal.control","text":"method character, one optimization methods accepted     optimx. User can experiment different algorithms results associated best performing one retained. maxit numeric, maximum number iterations optimization routine. trace Non-negative integer. tracing information printed screen. start (named) numeric, vector starting values. kkt locical Kuhn, Karush, Tucker optimality conditions tested? Default FALSE avoid numerical hessian computation. ... TODO","code":""},{"path":"https://geobosh.github.io/Countr/reference/renewal.control.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Creates the renewal control list — renewal.control","text":"list control parameters used renewal","code":""},{"path":"https://geobosh.github.io/Countr/reference/renewal.control.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Creates the renewal control list — renewal.control","text":"function takes user passed inputs, checks (todo: actually, !) returns appropriate list used inside renewal optimization routine, optimx among others.","code":""},{"path":"https://geobosh.github.io/Countr/reference/renewal.convPars.html","id":null,"dir":"Reference","previous_headings":"","what":"Creates the convolution inputs setting — renewal.convPars","title":"Creates the convolution inputs setting — renewal.convPars","text":"Checks creates convolution inputs list.","code":""},{"path":"https://geobosh.github.io/Countr/reference/renewal.convPars.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Creates the convolution inputs setting — renewal.convPars","text":"","code":"renewal.convPars(convPars, dist)"},{"path":"https://geobosh.github.io/Countr/reference/renewal.convPars.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Creates the convolution inputs setting — renewal.convPars","text":"convPars list convolution parameters arguments slots nsteps, extrap convMethod, see dCount_conv_bi. NULL, default parameters applied. dist TODO","code":""},{"path":"https://geobosh.github.io/Countr/reference/renewal.convPars.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Creates the convolution inputs setting — renewal.convPars","text":"list convolution inputs.","code":""},{"path":"https://geobosh.github.io/Countr/reference/renewal.html","id":null,"dir":"Reference","previous_headings":"","what":"Deprecated old name of renewalCount() — renewal","title":"Deprecated old name of renewalCount() — renewal","text":"Deprecated old name renewalCount()","code":""},{"path":"https://geobosh.github.io/Countr/reference/renewal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Deprecated old name of renewalCount() — renewal","text":"","code":"renewal(...)"},{"path":"https://geobosh.github.io/Countr/reference/renewal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Deprecated old name of renewalCount() — renewal","text":"... arguments renewalCount().","code":""},{"path":"https://geobosh.github.io/Countr/reference/renewal.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Deprecated old name of renewalCount() — renewal","text":"function now renamed renewalCount().","code":""},{"path":"https://geobosh.github.io/Countr/reference/renewal.seriesPars.html","id":null,"dir":"Reference","previous_headings":"","what":"Creates the series expansion inputs setting — renewal.seriesPars","title":"Creates the series expansion inputs setting — renewal.seriesPars","text":"Check creates series expansion inputs list.","code":""},{"path":"https://geobosh.github.io/Countr/reference/renewal.seriesPars.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Creates the series expansion inputs setting — renewal.seriesPars","text":"","code":"renewal.seriesPars(seriesPars, long = FALSE)"},{"path":"https://geobosh.github.io/Countr/reference/renewal.seriesPars.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Creates the series expansion inputs setting — renewal.seriesPars","text":"seriesPars list series expansion input parameters slots terms (number terms series expansion), iter (number iteration accelerated series expansion algorithm) eps (tolerance accelerated series expansion algorithm), used dist = \"weibull\" weiMethod = c(\"series_mat\", \"series_acc\"). long TODO","code":""},{"path":"https://geobosh.github.io/Countr/reference/renewal.seriesPars.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Creates the series expansion inputs setting — renewal.seriesPars","text":"list series expansion inputs.","code":""},{"path":"https://geobosh.github.io/Countr/reference/renewal.weiMethod.html","id":null,"dir":"Reference","previous_headings":"","what":"Check weibull computation algorithm — renewal.weiMethod","title":"Check weibull computation algorithm — renewal.weiMethod","text":"Check weibull computation algorithm.","code":""},{"path":"https://geobosh.github.io/Countr/reference/renewal.weiMethod.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check weibull computation algorithm — renewal.weiMethod","text":"","code":"renewal.weiMethod(weiMethod)"},{"path":"https://geobosh.github.io/Countr/reference/renewal.weiMethod.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check weibull computation algorithm — renewal.weiMethod","text":"weiMethod character, desired  weibull method.","code":""},{"path":"https://geobosh.github.io/Countr/reference/renewal.weiMethod.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check weibull computation algorithm — renewal.weiMethod","text":"valid weibull computation method.","code":""},{"path":"https://geobosh.github.io/Countr/reference/renewalCoef.html","id":null,"dir":"Reference","previous_headings":"","what":"Get named vector of coefficients for renewal objects — renewalCoef","title":"Get named vector of coefficients for renewal objects — renewalCoef","text":"Get named vector coefficients renewal objects.","code":""},{"path":"https://geobosh.github.io/Countr/reference/renewalCoef.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get named vector of coefficients for renewal objects — renewalCoef","text":"","code":"renewalCoef(object, ...)"},{"path":"https://geobosh.github.io/Countr/reference/renewalCoef.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get named vector of coefficients for renewal objects — renewalCoef","text":"object object, methods several classes, see section ‘Details’. ... arguments passed renewalNames, usually something like target = \"weibull\".","code":""},{"path":"https://geobosh.github.io/Countr/reference/renewalCoef.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get named vector of coefficients for renewal objects — renewalCoef","text":"convenience function constructing named vector coefficients renewal count models. vectors needed, example, starting values model fitting procedures. simplest way get suitably named vector take coefficients fitted model fitting procedure requires initial values, seemingly circular situation. overall idea take coefficients specified object transform coefficients suitable renewal count model specified arguments \"...\". provided methods eliminate need tedius manual preparation vectors common cases allow user single line. default method extracts coefficients object using co <- coef(object) (error raised fails). prepares named numeric vector names requested arguments \"...\" assigns co first length(co) elements prepared vector. net effect coefficients model can initialised coefficients nested model. example Poisson regression model can used initialise Weibull count model. course non-zero shape parameter(s) Weibull model need set separately. object class glm, method identical default method. object class renewalCoefList, elements simply concatenated one long vector.","code":""},{"path":"https://geobosh.github.io/Countr/reference/renewalCoef.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Get named vector of coefficients for renewal objects — renewalCoef","text":"Kharrat T, Boshnakov GN, McHale , Baker R (2019). “Flexible Regression Models Count Data Based Renewal Processes: Countr Package.” Journal Statistical Software, 90(13), 1–35. doi:10.18637/jss.v090.i13 .","code":""},{"path":[]},{"path":"https://geobosh.github.io/Countr/reference/renewalCoefList.html","id":null,"dir":"Reference","previous_headings":"","what":"Split a vector using the prefixes of the names for grouping — renewalCoefList","title":"Split a vector using the prefixes of the names for grouping — renewalCoefList","text":"Split vector using prefixes names grouping.","code":""},{"path":"https://geobosh.github.io/Countr/reference/renewalCoefList.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Split a vector using the prefixes of the names for grouping — renewalCoefList","text":"","code":"renewalCoefList(coef)"},{"path":"https://geobosh.github.io/Countr/reference/renewalCoefList.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Split a vector using the prefixes of the names for grouping — renewalCoefList","text":"coef named vector","code":""},{"path":"https://geobosh.github.io/Countr/reference/renewalCoefList.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Split a vector using the prefixes of the names for grouping — renewalCoefList","text":"names coefficients renewal regression models prefixed names parameters refer. function splits vectors list one component parameter. example, Weibull renewal regression model create list components \"scale\" \"shape\". convenience function allowing users manipulate coefficients related parameter easily. renewalCoef can convert list back vector.","code":""},{"path":[]},{"path":"https://geobosh.github.io/Countr/reference/renewalCount.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit renewal count processes regression models — renewalCount","title":"Fit renewal count processes regression models — renewalCount","text":"Fit renewal regression models count data via maximum likelihood.","code":""},{"path":"https://geobosh.github.io/Countr/reference/renewalCount.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit renewal count processes regression models — renewalCount","text":"","code":"renewalCount(   formula,   data,   subset,   na.action,   weights,   offset,   dist = c(\"weibull\", \"weibullgam\", \"custom\", \"gamma\", \"gengamma\"),   anc = NULL,   convPars = NULL,   link = NULL,   time = 1,   control = renewal.control(...),   customPars = NULL,   seriesPars = NULL,   weiMethod = NULL,   computeHessian = TRUE,   standardise = FALSE,   standardise_scale = 1,   model = TRUE,   y = TRUE,   x = FALSE,   ... )"},{"path":"https://geobosh.github.io/Countr/reference/renewalCount.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit renewal count processes regression models — renewalCount","text":"formula formula object. standard formula object, left hand side specifies response variable right hand sides specifies regression equation first parameter conditional distribution. formula can also used specify ancilliary regressions, using operator `|`, see section ‘Details’. data, subset, na.action, arguments controlling formula processing via model.frame. weights optional numeric vector weights. offset optional numeric vector priori known component included linear predictor count model. Currently used. dist character, built-distribution used inter-arrival time distribution \"custom\" user defined distribution, see section ‘Details’. Currently built-distributions \"weibull\", \"weibullgam\", \"gamma\", \"gengamma\" (generalized-gamma) \"burr\". anc named list formulas ancillary regressions, , otherwise NULL. formulas associated (exact) parameter names used. left-hand sides formulas anc ignored. convPars list convolution parameters arguments slots nsteps, extrap convMethod, see dCount_conv_bi. NULL, default parameters applied. link named list character strings specifying name link functions used regression. NULL, canonical link function used, .e, log parameter supposed positive, identity otherwise. time numeric, time count observed; default unity (1). control list control arguments specified via renewal.control. customPars list, user inputs dist = \"custom\", see section ‘Details’. seriesPars list, series expansion input parameters slots terms (number terms series expansion), iter (number iteration accelerated series expansion algorithm) eps (tolerance accelerated series expansion algorithm), used dist = \"weibull\" weiMethod = c(\"series_mat\", \"series_acc\"). weiMethod character, computation method used dist = \"weibull\" \"weibullgam\", see dWeibullCount dWeibullgammaCount. computeHessian logical, hessian (hence covariance matrix) computed numerically fitted values. standardise logical, covariates standardised using standardize::standardize() function. standardise_scale numeric desired scale covariates; defaults 1. model, y, x logicals. TRUE corresponding components fit (model frame, response, model matrix) returned. ... arguments passed renewal.control default setup.","code":""},{"path":"https://geobosh.github.io/Countr/reference/renewalCount.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit renewal count processes regression models — renewalCount","text":"S3 object class \"renewal\", list     components including: coefficients values fitted coefficients. residuals vector weighted residuals \\(\\omega * (observed - fitted)\\). fitted.values vector fitted means. optim data.frame output optimx. method optimisation algorithm. control control arguments, passed optimx. start starting values, passed optimx. weights weights apply, . n number observations (weights > 0). iterations number iterations optimisation algorithm. execTime duration optimisation. loglik log-likelihood fitted model. df.residual residuals' degrees freedom fitted model. vcoc convariance matrix coefficients, computed numerically     hessian fitted coefficients (computeHessian     TRUE). dist name inter-arrival distribution. link list, inverse link function corresponding parameter     inter-arrival distribution. converged logical, optimisation algorithm converge? data data used fit model. formula original formula. call original function call. anc named list formulas model regression ancillary     parameters. score_fct function compute vector scores defined       Cameron Trivedi (2013) , equation 2.94. convPars convolution inputs used. customPars named list, user passed distribution inputs, see     section ‘Details’. time observed window used, default 1.0 (see inputs). model full model frame (model = TRUE). y response count vector (y = TRUE). x model matrix (x = TRUE).","code":""},{"path":"https://geobosh.github.io/Countr/reference/renewalCount.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Fit renewal count processes regression models — renewalCount","text":"renewal re-uses design functionality basic R tools fitting regression model (lm, glm) highly inspired hurdle() zeroinfl() package pscl. Package Formula used handle formulas. Argument formula formula object. simplest case left-hand side (lhs) designates response variable right-hand side covariates first parameter distribution (reported getParNames. case, covariates ancilliary parameters specified using argument anc. ancilliary regressions, can also specified argument formula adding righ-hand side, separated operator ‘|’. example Y | shape ~ x + y | z can used place pair Y ~ x + y anc = list(shape = ~z). cases, name second parameter can omitted, example gives equivalent Y ~ x + y | z. actual rule parameter missing left-hand side, inferred default parameter list distribution. another convenience, parameters covariates, necessary repeat rhs. example, Y | shape ~ x + y equivalent Y | shape ~ x + y | x + y. Note applied parameters listed lhs, Y ~ x + y specifies covariates response variable parameters. Distributions inter-arrival times supported internally package can chosen setting argument \"dist\" suitable character string.  Currently built-distributions \"weibull\", \"weibullgam\", \"gamma\", \"gengamma\" (generalized-gamma) \"burr\". Users can also provide inter-arrival distribution.  done setting argument \"dist\" \"custom\", specifying initial values giving argument customPars list following components: parNames character, names parameters distribution.     location parameter first one. survivalFct function object containing survival function.     signature function(t, distPars) t     point survival function evaluated distPars     list distribution parameters. return double value. extrapolFct function object computing extrapolation values     (numeric length 2) value distribution parameters (    distPars). signature function(distPars)     return numeric vector length 2. required extrapolation     set TRUE convPars. checks done validate customPars user's responsibility make sure functions appropriate signatures. Note: Weibull-gamma distribution experimental version used care! sensitive initial values guarantee convergence. also reparameterized terms \\((1/r, 1/\\alpha, c)\\) instead \\((r, \\alpha, c)\\), \\(r\\) \\(\\alpha\\) shape scale gamma distribution \\(c\\) shape Weibull distribution. (2017-08-04(Georgi) experimental feature: probability residuals component 'probResiduals'. also added type 'prob' method residuals() extract . probResiduals[] currently 1 - Prob(Y[] given covariates). \"one minus\", values close zero \"good\".  probably useful comparing two models, one mostly smaller values , reason claim former superior. example (see ), gamModel < poisModel 3:1","code":""},{"path":"https://geobosh.github.io/Countr/reference/renewalCount.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Fit renewal count processes regression models — renewalCount","text":"Kharrat T, Boshnakov GN, McHale , Baker R (2019). “Flexible Regression Models Count Data Based Renewal Processes: Countr Package.” Journal Statistical Software, 90(13), 1–35. doi:10.18637/jss.v090.i13 . Cameron AC, Trivedi PK (2013). Regression analysis count data, volume 53. Cambridge university press.","code":""},{"path":"https://geobosh.github.io/Countr/reference/renewalCount.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fit renewal count processes regression models — renewalCount","text":"","code":"if (FALSE) { # \\dontrun{ ## may take some time to run depending on your CPU data(football) wei = renewalCount(formula = homeTeamGoals ~ 1,                     data = football, dist = \"weibull\", weiMethod = \"series_acc\",                     computeHessian = FALSE, control = renewal.control(trace = 0,                      method = \"nlminb\")) } # }"},{"path":"https://geobosh.github.io/Countr/reference/renewalNames.html","id":null,"dir":"Reference","previous_headings":"","what":"Get names of parameters of renewal regression models — renewalNames","title":"Get names of parameters of renewal regression models — renewalNames","text":"Get names parameters renewal regression models","code":""},{"path":"https://geobosh.github.io/Countr/reference/renewalNames.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get names of parameters of renewal regression models — renewalNames","text":"","code":"renewalNames(object, ...)"},{"path":"https://geobosh.github.io/Countr/reference/renewalNames.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get names of parameters of renewal regression models — renewalNames","text":"object object. ... arguments.","code":""},{"path":"https://geobosh.github.io/Countr/reference/renewalNames.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get names of parameters of renewal regression models — renewalNames","text":"renewalNames gives character vector names parameters renewal regression models. two main use scenarios: renewalNames(object, target = \"dist\") renewalNames(object,...). first scenario target can count distribution, \"weibull\" parameter name, shape.  case renewalNames transforms coefficient names object specified target. second cenario argument list used call renewalCount. case renewalNames returns names used renewalCount coefficients fitted model.","code":""},{"path":[]},{"path":"https://geobosh.github.io/Countr/reference/renewal_methods.html","id":null,"dir":"Reference","previous_headings":"","what":"Methods for renewal objects — renewal_methods","title":"Methods for renewal objects — renewal_methods","text":"Methods renewal objects.","code":""},{"path":"https://geobosh.github.io/Countr/reference/renewal_methods.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Methods for renewal objects — renewal_methods","text":"","code":"# S3 method for class 'renewal' coef(object, ...)  # S3 method for class 'renewal' vcov(object, ...)  # S3 method for class 'renewal' residuals(object, type = c(\"pearson\", \"response\", \"prob\"), ...)  # S3 method for class 'renewal' residuals_plot(object, type = c(\"pearson\", \"response\", \"prob\"), ...)  # S3 method for class 'renewal' fitted(object, ...)  # S3 method for class 'renewal' confint(   object,   parm,   level = 0.95,   type = c(\"asymptotic\", \"boot\"),   bootType = c(\"norm\", \"bca\", \"basic\", \"perc\"),   ... )  # S3 method for class 'renewal' summary(object, ...)  # S3 method for class 'renewal' print(x, digits = max(3, getOption(\"digits\") - 3), ...)  # S3 method for class 'summary.renewal' print(   x,   digits = max(3, getOption(\"digits\") - 3),   width = getOption(\"width\"),   ... )  # S3 method for class 'renewal' model.matrix(object, ...)  # S3 method for class 'renewal' logLik(object, ...)  # S3 method for class 'renewal' nobs(object, ...)  # S3 method for class 'renewal' extractAIC(fit, scale, k = 2, ...)  # S3 method for class 'renewal' addBootSampleObject(object, ...)  # S3 method for class 'renewal' df.residual(object, ...)"},{"path":"https://geobosh.github.io/Countr/reference/renewal_methods.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Methods for renewal objects — renewal_methods","text":"object object class \"renewal\". ... arguments methods. type, parm, level, bootType, x, digits see corresponding generics section ‘Details’. width numeric width length. fit, scale, k generic.","code":""},{"path":"https://geobosh.github.io/Countr/reference/renewal_methods.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Methods for renewal objects — renewal_methods","text":"Objects class \"renewal\" represent fitted count renewal models created calls \"renewalCount()\". methods class many familiar functions interacting fitted models.","code":""},{"path":"https://geobosh.github.io/Countr/reference/renewal_methods.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Methods for renewal objects — renewal_methods","text":"","code":"fn <- system.file(\"extdata\", \"McShane_Wei_results_boot.RDS\", package = \"Countr\") object <- readRDS(fn) class(object) # \"renewal\" #> [1] \"renewal\"  coef(object) #>          scale_    scale_GERMAN       scale_EDU       scale_VOC       scale_UNI  #>     1.397339743    -0.222677155     0.038579223    -0.173423930    -0.181808127  #>      scale_CATH      scale_PROT      scale_MUSL     scale_RURAL scale_YEAR_OF_B  #>     0.242045872     0.123221530     0.638803211     0.068074810     0.002307353  #>   scale_AGEMARR          shape_  #>    -0.034029563     1.236232710  vcov(object) #>                        scale_  scale_GERMAN     scale_EDU     scale_VOC #> scale_           0.0930236225  8.919340e-03 -8.165893e-03  1.153322e-03 #> scale_GERMAN     0.0089193396  5.214102e-03 -1.150253e-03 -4.339834e-04 #> scale_EDU       -0.0081658934 -1.150253e-03  1.063042e-03 -2.814470e-04 #> scale_VOC        0.0011533223 -4.339834e-04 -2.814470e-04  1.935682e-03 #> scale_UNI        0.0256804922  2.754849e-03 -3.355547e-03  1.871018e-03 #> scale_CATH      -0.0031003254 -1.579181e-03  1.237918e-04  5.534533e-05 #> scale_PROT      -0.0027900298 -2.269655e-03  1.023422e-04  1.759421e-05 #> scale_MUSL      -0.0057349764  1.042368e-03  1.377562e-04  1.867273e-04 #> scale_RURAL     -0.0014521343 -2.639966e-04  9.503076e-05  3.333572e-04 #> scale_YEAR_OF_B -0.0001654313 -3.087628e-05 -1.915529e-06  2.043607e-05 #> scale_AGEMARR   -0.0005939423  3.175688e-05 -1.743303e-05 -1.909649e-05 #> shape_           0.0012043607 -1.032629e-04  2.449776e-05 -1.015040e-04 #>                     scale_UNI    scale_CATH    scale_PROT    scale_MUSL #> scale_           2.568049e-02 -3.100325e-03 -2.790030e-03 -5.734976e-03 #> scale_GERMAN     2.754849e-03 -1.579181e-03 -2.269655e-03  1.042368e-03 #> scale_EDU       -3.355547e-03  1.237918e-04  1.023422e-04  1.377562e-04 #> scale_VOC        1.871018e-03  5.534533e-05  1.759421e-05  1.867273e-04 #> scale_UNI        2.540730e-02 -1.041703e-05  2.833785e-05 -2.566270e-04 #> scale_CATH      -1.041703e-05  4.999685e-03  4.460029e-03  3.044988e-03 #> scale_PROT       2.833785e-05  4.460029e-03  5.805663e-03  2.739216e-03 #> scale_MUSL      -2.566270e-04  3.044988e-03  2.739216e-03  7.468544e-03 #> scale_RURAL      3.278856e-04  5.070440e-05  7.404498e-05  1.637396e-04 #> scale_YEAR_OF_B  4.751321e-05  2.372257e-07 -5.718801e-06 -1.559452e-07 #> scale_AGEMARR   -6.938872e-05 -3.997862e-05 -2.326609e-05  3.817387e-05 #> shape_          -1.347961e-04  1.123694e-04  4.346523e-05  4.525415e-04 #>                   scale_RURAL scale_YEAR_OF_B scale_AGEMARR        shape_ #> scale_          -1.452134e-03   -1.654313e-04 -5.939423e-04  1.204361e-03 #> scale_GERMAN    -2.639966e-04   -3.087628e-05  3.175688e-05 -1.032629e-04 #> scale_EDU        9.503076e-05   -1.915529e-06 -1.743303e-05  2.449776e-05 #> scale_VOC        3.333572e-04    2.043607e-05 -1.909649e-05 -1.015040e-04 #> scale_UNI        3.278856e-04    4.751321e-05 -6.938872e-05 -1.347961e-04 #> scale_CATH       5.070440e-05    2.372257e-07 -3.997862e-05  1.123694e-04 #> scale_PROT       7.404498e-05   -5.718801e-06 -2.326609e-05  4.346523e-05 #> scale_MUSL       1.637396e-04   -1.559452e-07  3.817387e-05  4.525415e-04 #> scale_RURAL      1.456890e-03    4.237730e-06 -1.537028e-05  4.570599e-05 #> scale_YEAR_OF_B  4.237730e-06    5.677948e-06 -4.288778e-06 -9.240759e-07 #> scale_AGEMARR   -1.537028e-05   -4.288778e-06  4.272941e-05 -1.697867e-05 #> shape_           4.570599e-05   -9.240759e-07 -1.697867e-05  1.136108e-03  ## Pearson residuals: rescaled by sd head(residuals(object, \"pearson\")) #>          1          2          3          4          5          6  #> -0.4536889  0.2666367 -0.2879260  1.4626630 -0.3689430 -0.4503339  ## response residuals: not rescaled head(residuals(object, \"response\")) #>          1          2          3          4          5          6  #> -0.6359564  0.3731793 -0.3861650  1.8671934 -0.5056416 -0.6306918   head(fitted(object)) #> [1] 2.635956 2.626821 2.386165 2.132807 2.505642 2.630692  ## loglik, nobs, AIC, BIC c(loglik = as.numeric(logLik(object)), nobs = nobs(object),   AIC = AIC(object), BIC = BIC(object)) #>    loglik      nobs       AIC       BIC  #> -2077.005  1243.000  4178.010  4239.513   asym <- se.coef(object, , \"asymptotic\") boot <- se.coef(object, , \"boot\") cbind(asym, boot) #>                        asym        boot #> scale_          0.304997742 0.331438080 #> scale_GERMAN    0.072208742 0.077987820 #> scale_EDU       0.032604326 0.034450773 #> scale_VOC       0.043996381 0.045988517 #> scale_UNI       0.159396681 0.158987448 #> scale_CATH      0.070708448 0.070752807 #> scale_PROT      0.076194899 0.072959615 #> scale_MUSL      0.086420737 0.094049819 #> scale_RURAL     0.038169230 0.039366247 #> scale_YEAR_OF_B 0.002382845 0.002482896 #> scale_AGEMARR   0.006536774 0.006872492 #> shape_          0.033706207 0.044842338 ## CI for coefficients asym <- confint(object, type = \"asymptotic\") ## Commenting out for now, see the nite in the code of confint.renewal(): ## boot <- confint(object, type = \"boot\", bootType = \"norm\") ## list(asym = asym, boot = boot) summary(object) #>  #> Call: #> renewal(formula = form, data = data, dist = \"weibull\") #>  #> Pearson residuals: #>      Min       1Q   Median       3Q      Max  #> -2.66294 -0.73038 -0.09425  0.49688  6.73987  #> Inter-arrival dist.: weibull  #>               Links: scale: link log, shape: link log  #>  #> Count model coefficients #>                  Estimate Std. Error z value Pr(>|z|)     #> scale_           1.397340   0.304998   4.581 4.62e-06 *** #> scale_GERMAN    -0.222677   0.072209  -3.084 0.002044 **  #> scale_EDU        0.038579   0.032604   1.183 0.236708     #> scale_VOC       -0.173424   0.043996  -3.942 8.09e-05 *** #> scale_UNI       -0.181808   0.159397  -1.141 0.254036     #> scale_CATH       0.242046   0.070708   3.423 0.000619 *** #> scale_PROT       0.123222   0.076195   1.617 0.105838     #> scale_MUSL       0.638803   0.086421   7.392 1.45e-13 *** #> scale_RURAL      0.068075   0.038169   1.783 0.074505 .   #> scale_YEAR_OF_B  0.002307   0.002383   0.968 0.332885     #> scale_AGEMARR   -0.034030   0.006537  -5.206 1.93e-07 *** #> shape_           1.236233   0.033706  36.677  < 2e-16 *** #> --- #> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1  #>  #> Number of iterations in nlminb optimization: 52  #>  #> Execution time  371  #> Log-likelihood: -2077.0049 on 12 Df print(object) #>  #> Call: #> renewal(formula = form, data = data, dist = \"weibull\") #>  #> Count model coefficients (inter-arrival weibull with scale: link log, shape: link log): #>          scale_     scale_GERMAN        scale_EDU        scale_VOC   #>        1.397340        -0.222677         0.038579        -0.173424   #>       scale_UNI       scale_CATH       scale_PROT       scale_MUSL   #>       -0.181808         0.242046         0.123222         0.638803   #>     scale_RURAL  scale_YEAR_OF_B    scale_AGEMARR           shape_   #>        0.068075         0.002307        -0.034030         1.236233   #>  #> Log-likelihood: -2077.0049 on 12 Df ## see renewal_methods ## see renewal_methods"},{"path":"https://geobosh.github.io/Countr/reference/residuals_plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Method to visualise the residuals — residuals_plot","title":"Method to visualise the residuals — residuals_plot","text":"method visualise residuals","code":""},{"path":"https://geobosh.github.io/Countr/reference/residuals_plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Method to visualise the residuals — residuals_plot","text":"","code":"residuals_plot(object, type, ...)"},{"path":"https://geobosh.github.io/Countr/reference/residuals_plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Method to visualise the residuals — residuals_plot","text":"object object returned one count modeling functions. type character type residuals used. ... arguments methods.","code":""},{"path":"https://geobosh.github.io/Countr/reference/se.coef.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Standard Errors of Model Coefficients — se.coef","title":"Extract Standard Errors of Model Coefficients — se.coef","text":"Extract standard errors model coefficients objects returned count modeling functions.","code":""},{"path":"https://geobosh.github.io/Countr/reference/se.coef.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract Standard Errors of Model Coefficients — se.coef","text":"","code":"se.coef(object, parm, type, ...)  # S3 method for class 'renewal' se.coef(object, parm, type = c(\"asymptotic\", \"boot\"), ...)"},{"path":"https://geobosh.github.io/Countr/reference/se.coef.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract Standard Errors of Model Coefficients — se.coef","text":"object object returned one count modeling functions. parm parameter's name index. type type standard error: asymtotic normal standard errors (\"asymptotic\") bootsrap (\"boot\"). ... arguments methods.","code":""},{"path":"https://geobosh.github.io/Countr/reference/se.coef.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract Standard Errors of Model Coefficients — se.coef","text":"named numeric vector","code":""},{"path":"https://geobosh.github.io/Countr/reference/se.coef.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Extract Standard Errors of Model Coefficients — se.coef","text":"method class \"renewal\" extracts standard errors model coefficients objects returned renewal.  bootsrap standard error requested, function checks bootsrap sample object. found, bootsrap sample created warning issued. Users can choose asymtotic normal standard errors (asymptotic) bootsrap (boot).","code":""},{"path":"https://geobosh.github.io/Countr/reference/se.coef.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract Standard Errors of Model Coefficients — se.coef","text":"","code":"## see examples for renewal_methods"},{"path":"https://geobosh.github.io/Countr/reference/surv.html","id":null,"dir":"Reference","previous_headings":"","what":"Wrapper to built-in survival functions — surv","title":"Wrapper to built-in survival functions — surv","text":"Wrapper built-survival functions","code":""},{"path":"https://geobosh.github.io/Countr/reference/surv.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Wrapper to built-in survival functions — surv","text":"","code":"surv(t, distPars, dist)"},{"path":"https://geobosh.github.io/Countr/reference/surv.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Wrapper to built-in survival functions — surv","text":"t double, time point survival evaluated . distPars Rcpp::List distribution specific slots, see section ‘Details’. dist character name built-distribution, see section ‘Details’.","code":""},{"path":"https://geobosh.github.io/Countr/reference/surv.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Wrapper to built-in survival functions — surv","text":"double, giving value survival function time point t parameters' values.","code":""},{"path":"https://geobosh.github.io/Countr/reference/surv.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Wrapper to built-in survival functions — surv","text":"function wraps builtin-survival distributions. User can choose weibull, gamma, gengamma(generalized gamma) burr (Burr type XII distribution). user responsibility pass appropriate list parameters follows: weibull scale (scale) shape (shape)     parameters. burr scale (scale) shape1 (shape1)     shape2 (shape2) parameters. gamma scale (scale) shape (shape)     parameter. gengamma mu (location), sigma (scale) Q     (shape) parameters.","code":""},{"path":"https://geobosh.github.io/Countr/reference/surv.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Wrapper to built-in survival functions — surv","text":"","code":"tt <- 2.5 ## weibull  distP <- list(scale = 1.2, shape = 1.16) alpha <- exp(-log(distP[[\"scale\"]]) / distP[[\"shape\"]]) pweibull(q = tt, scale = alpha, shape = distP[[\"shape\"]],                       lower.tail = FALSE) #> [1] 0.03100227 surv(tt, distP, \"weibull\") ## (almost) same #> [1] 0.03100227  ## gamma distP <- list(shape = 0.5, rate = 1.0 / 0.7) pgamma(q = tt, rate = distP[[\"rate\"]], shape = distP[[\"shape\"]],                     lower.tail = FALSE) #> [1] 0.007526315 surv(tt, distP, \"gamma\")  ## (almost) same #> [1] 0.007526315  ## generalized gamma distP <- list(mu = 0.5, sigma = 0.7, Q = 0.7) flexsurv::pgengamma(q = tt, mu = distP[[\"mu\"]],                     sigma = distP[[\"sigma\"]],                     Q = distP[[\"Q\"]],                     lower.tail = FALSE) #> [1] 0.1932044 surv(tt, distP, \"gengamma\")  ## (almost) same #> [1] 0.002252019"}]
